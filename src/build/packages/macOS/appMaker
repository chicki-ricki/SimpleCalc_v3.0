#!/usr/bin/env bash

if [ "$1" = "-h" -o "$1" = "--help" -o -z "$1" ]; then cat <<EOF
appify v3.0.1 for Mac OS X - http://mths.be/appify
Creates the simplest possible Mac app from a shell script.
Appify takes a shell script as its first argument:
    `basename "$0"` my-script.sh
Note that you cannot rename appified apps. If you want to give your app
a custom name, use the second argument:
    `basename "$0"` my-script.sh "My App"
Copyright (c) Thomas Aylott <http://subtlegradient.com/>
Modified by Mathias Bynens <http://mathiasbynens.be/>
EOF
exit; fi

APPNAME=${2:-$(basename "$1" ".sh")}

APPSRC="./build/packages/done/smartCalc.app"
# mkdir -p "$APPSRC"
mkdir -p "$APPSRC/Contents/MacOS"
mkdir -p "$APPSRC/Contents/Resources"

# DIR="/Applications/$APPNAME.app/Contents/MacOS"
# RESOURCES="/Applications/$APPNAME.app/Contents/Resources"

# if [ -a "/Applications/$APPNAME.app" ]; then
# 	echo "/Applications/$APPNAME.app already exists :("
# 	exit 1
# fi

# mkdir -p "$DIR"
# cp "$1" "$DIR/$APPNAME"
cp "$1" "$APPSRC/Contents/MacOS/$APPNAME"
# mkdir -p "$RESOURCES"
# # копирование plist
# cp "./smartCalc.app/Contents/Info.plist" "/Applications/$APPNAME.app/Contents"
# # копирование основной части проекта
# # cp -r "/Users/eugenia/00_IT_projects/06_sber21/03_APG2_SmartCalc_v3.0/src" "$RESOURCES"
# cp -r "./assets" "$RESOURCES"
# cp -r "./config" "$RESOURCES"
# cp -r "./tmp" "$RESOURCES"
# cp -r "./var" "$RESOURCES"
# cp "smartCalc" "$RESOURCES"
# chmod +x "$DIR/$APPNAME"

cp "./build/packages/macOS/Info.plist" "$APPSRC/Contents"
# копирование основной части проекта
# cp -r "/Users/eugenia/00_IT_projects/06_sber21/03_APG2_SmartCalc_v3.0/src" "$RESOURCES"
cp -r "./assets" "$APPSRC/Contents/Resources"
cp -r "./config" "$APPSRC/Contents/Resources"
cp -r "./tmp" "$APPSRC/Contents/Resources"
cp -r "./var" "$APPSRC/Contents/Resources"
cp "smartCalc" "$APPSRC/Contents/Resources"
chmod +x "$APPSRC/Contents/MacOS/$APPNAME"



# echo "/Applications/$APPNAME.app"